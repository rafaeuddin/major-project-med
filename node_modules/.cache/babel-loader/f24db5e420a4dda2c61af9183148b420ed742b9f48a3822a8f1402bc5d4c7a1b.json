{"ast":null,"code":"import { http, HttpResponse } from 'msw';\n\n// Mock data for appointments\nconst mockAppointments = [{\n  _id: '1',\n  patientId: {\n    _id: 'patient123',\n    name: 'Alex Johnson',\n    email: 'alex@example.com',\n    phone: '123-456-7890'\n  },\n  doctorId: {\n    _id: 'doctor456',\n    name: 'Dr. Sarah Parker',\n    specialization: 'Cardiology',\n    email: 'dr.parker@example.com'\n  },\n  date: new Date(Date.now() + 86400000 * 2).toISOString(),\n  // 2 days from now\n  timeSlot: '10:00 AM',\n  status: 'scheduled',\n  reason: 'Annual checkup',\n  notes: ''\n}, {\n  _id: '2',\n  patientId: {\n    _id: 'patient123',\n    name: 'Alex Johnson',\n    email: 'alex@example.com',\n    phone: '123-456-7890'\n  },\n  doctorId: {\n    _id: 'doctor789',\n    name: 'Dr. Michael Chen',\n    specialization: 'Neurology',\n    email: 'dr.chen@example.com'\n  },\n  date: new Date(Date.now() - 86400000 * 3).toISOString(),\n  // 3 days ago\n  timeSlot: '2:00 PM',\n  status: 'completed',\n  reason: 'Headaches and dizziness',\n  notes: 'Patient reported recurring headaches. Prescribed medication and recommended follow-up in 2 weeks.'\n}];\n\n// Mock available time slots\nconst mockTimeSlots = {\n  availableTimeSlots: ['09:00 AM', '10:00 AM', '11:00 AM', '01:00 PM', '02:00 PM', '03:00 PM', '04:00 PM']\n};\n\n// Simple chatbot responses for common medical inquiries\nconst medicalResponses = {\n  headache: {\n    response: \"It sounds like you're experiencing headaches. Headaches can be caused by various factors including stress, dehydration, lack of sleep, or underlying medical conditions. If your headache is severe, persistent, or accompanied by other symptoms like fever, vision changes, or neck stiffness, you should consult with a doctor. Would you like to book an appointment?\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: \"Neurologist\"\n  },\n  fever: {\n    response: \"I see you're concerned about a fever. A fever is often a sign that your body is fighting an infection. Make sure to stay hydrated and rest. If your temperature is above 103°F (39.4°C), lasts more than three days, or is accompanied by severe symptoms, you should seek medical attention. Would you like to discuss this with a doctor?\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: \"General Physician\"\n  },\n  chest_pain: {\n    response: \"Chest pain can be a symptom of several conditions and should be taken seriously. If you're experiencing severe chest pain, especially if it radiates to your arm, jaw, or back, or is accompanied by shortness of breath, sweating, or nausea, please seek emergency medical care immediately by calling 911 or going to your nearest emergency room.\",\n    urgencyLevel: \"urgent\",\n    specialistRecommendation: \"Cardiologist\"\n  },\n  cough: {\n    response: \"Coughing can be caused by various factors including allergies, cold, flu, or respiratory infections. If your cough is persistent (lasting more than 2 weeks), produces discolored mucus, or is accompanied by shortness of breath, you should consult with a healthcare professional. Would you like me to help you book an appointment?\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: \"Pulmonologist\"\n  },\n  default: {\n    response: \"Thank you for sharing your health concern. While I can provide general information, for a proper diagnosis and treatment plan, I'd recommend consulting with a healthcare professional. Would you like me to help you book an appointment with a doctor?\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: null\n  }\n};\n\n// Add to the medicalResponses object to include versions with patient history\nconst medicalResponsesWithHistory = {\n  headache: {\n    response: \"Based on your medical history, I see you've had previous appointments related to headaches. It's important to monitor any changes in your symptoms. Given your history, I would suggest keeping your scheduled follow-up appointment with your neurologist. In the meantime, continue with your prescribed medication and make sure you're staying hydrated and managing stress as discussed in your previous consultation.\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: \"Neurologist\",\n    hasPatientHistory: true\n  },\n  fever: {\n    response: \"I notice from your medical history that you have a history of recurring infections. With your current fever, it's especially important to monitor your temperature closely. Given your medical background, if your temperature exceeds 101°F or persists for more than 24 hours, you should contact your doctor as they may want to see you sooner considering your history. Continue taking your medications as prescribed.\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: \"General Physician\",\n    hasPatientHistory: true\n  },\n  chest_pain: {\n    response: \"Given your medical history that shows you have hypertension, your chest pain symptoms should be taken very seriously. Please seek emergency medical care immediately by calling 911 or going to your nearest emergency room. With your cardiovascular history, it's important to get evaluated promptly, even if the pain seems mild.\",\n    urgencyLevel: \"urgent\",\n    specialistRecommendation: \"Cardiologist\",\n    hasPatientHistory: true\n  },\n  cough: {\n    response: \"Looking at your medical history, I see you have asthma and have been prescribed an inhaler. With your current cough, it's important to monitor for any signs of an asthma flare-up. If you're experiencing increased wheezing or shortness of breath along with your cough, use your rescue inhaler as prescribed and contact your pulmonologist. They may want to adjust your management plan.\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: \"Pulmonologist\",\n    hasPatientHistory: true\n  },\n  default: {\n    response: \"I've reviewed your medical history and can provide some general guidance based on your health background. However, for your specific concerns, I'd recommend consulting with your healthcare provider who's familiar with your complete medical history. They can offer personalized advice based on your ongoing treatment plan.\",\n    urgencyLevel: \"normal\",\n    specialistRecommendation: null,\n    hasPatientHistory: true\n  }\n};\n\n// Mock data for medical records\nconst mockMedicalRecords = [{\n  _id: 'record1',\n  patientId: 'patient123',\n  recordType: 'diagnosis',\n  recordDate: new Date(Date.now() - 86400000 * 30).toISOString(),\n  // 30 days ago\n  description: 'Diagnosed with migraine headaches',\n  diagnosisDetails: {\n    condition: 'Migraine',\n    symptoms: ['Headache', 'Nausea', 'Light sensitivity'],\n    severity: 'moderate',\n    status: 'active'\n  },\n  createdBy: {\n    _id: 'doctor456',\n    name: 'Dr. Sarah Parker',\n    role: 'doctor',\n    specialization: 'Neurology'\n  }\n}, {\n  _id: 'record2',\n  patientId: 'patient123',\n  recordType: 'prescription',\n  recordDate: new Date(Date.now() - 86400000 * 29).toISOString(),\n  // 29 days ago\n  description: 'Prescribed medication for migraine prevention',\n  medicationDetails: {\n    name: 'Propranolol',\n    dosage: '40mg',\n    frequency: 'Twice daily',\n    startDate: new Date(Date.now() - 86400000 * 29).toISOString(),\n    endDate: new Date(Date.now() + 86400000 * 60).toISOString() // 60 days from now\n  },\n  createdBy: {\n    _id: 'doctor456',\n    name: 'Dr. Sarah Parker',\n    role: 'doctor',\n    specialization: 'Neurology'\n  }\n}, {\n  _id: 'record3',\n  patientId: 'patient123',\n  recordType: 'allergy',\n  recordDate: new Date(Date.now() - 86400000 * 100).toISOString(),\n  // 100 days ago\n  description: 'Identified penicillin allergy',\n  allergyDetails: {\n    allergen: 'Penicillin',\n    reaction: 'Hives and difficulty breathing',\n    severity: 'severe',\n    status: 'active'\n  },\n  createdBy: {\n    _id: 'doctor789',\n    name: 'Dr. Michael Chen',\n    role: 'doctor',\n    specialization: 'Immunology'\n  }\n}, {\n  _id: 'record4',\n  patientId: 'patient123',\n  recordType: 'labResult',\n  recordDate: new Date(Date.now() - 86400000 * 15).toISOString(),\n  // 15 days ago\n  description: 'Complete blood count results',\n  details: {\n    testName: 'Complete Blood Count',\n    results: 'Within normal ranges',\n    notes: 'No significant abnormalities found'\n  },\n  createdBy: {\n    _id: 'doctor456',\n    name: 'Dr. Sarah Parker',\n    role: 'doctor',\n    specialization: 'Neurology'\n  }\n}];\n\n// Mock data for food items\nconst mockFoodItems = [{\n  id: '1',\n  name: 'Apple',\n  brand: 'Fresh Fruits',\n  calories: 95,\n  proteins: 0.5,\n  carbs: 25,\n  fats: 0.3,\n  servingUnit: 'medium'\n}, {\n  id: '2',\n  name: 'Banana',\n  brand: 'Fresh Fruits',\n  calories: 105,\n  proteins: 1.3,\n  carbs: 27,\n  fats: 0.4,\n  servingUnit: 'medium'\n}, {\n  id: '3',\n  name: 'Chicken Breast',\n  brand: 'Organic Meats',\n  calories: 165,\n  proteins: 31,\n  carbs: 0,\n  fats: 3.6,\n  servingUnit: '100g'\n}, {\n  id: '4',\n  name: 'Brown Rice',\n  brand: 'Healthy Grains',\n  calories: 216,\n  proteins: 5,\n  carbs: 45,\n  fats: 1.8,\n  servingUnit: 'cup'\n}, {\n  id: '5',\n  name: 'Salmon',\n  brand: 'Wild Caught',\n  calories: 208,\n  proteins: 20,\n  carbs: 0,\n  fats: 13,\n  servingUnit: '100g'\n}, {\n  id: '6',\n  name: 'Spinach',\n  brand: 'Garden Fresh',\n  calories: 7,\n  proteins: 0.9,\n  carbs: 1.1,\n  fats: 0.1,\n  servingUnit: 'cup'\n}, {\n  id: '7',\n  name: 'Eggs',\n  brand: 'Farm Fresh',\n  calories: 68,\n  proteins: 5.5,\n  carbs: 0.6,\n  fats: 4.8,\n  servingUnit: 'large'\n}, {\n  id: '8',\n  name: 'Whole Wheat Bread',\n  brand: 'Bakery',\n  calories: 69,\n  proteins: 3.6,\n  carbs: 12,\n  fats: 0.9,\n  servingUnit: 'slice'\n}, {\n  id: '9',\n  name: 'Avocado',\n  brand: 'Fresh Produce',\n  calories: 234,\n  proteins: 2.9,\n  carbs: 12.5,\n  fats: 21,\n  servingUnit: 'medium'\n}, {\n  id: '10',\n  name: 'Greek Yogurt',\n  brand: 'Dairy Farm',\n  calories: 100,\n  proteins: 17,\n  carbs: 6,\n  fats: 0.5,\n  servingUnit: 'cup'\n}];\n\n// Generate mock food logs for the past 30 days\nconst generateMockFoodLogs = () => {\n  const logs = [];\n  const today = new Date();\n  for (let i = 0; i < 30; i++) {\n    const date = new Date();\n    date.setDate(today.getDate() - i);\n\n    // Decide if this date has food logs (80% chance)\n    if (Math.random() < 0.8) {\n      // Generate between 2-4 meal logs for this day\n      const mealCount = Math.floor(Math.random() * 3) + 2;\n      const mealTypes = ['breakfast', 'lunch', 'dinner', 'snack'];\n      const usedMealTypes = [];\n      for (let j = 0; j < mealCount; j++) {\n        // Select a meal type that hasn't been used yet\n        let mealType;\n        do {\n          mealType = mealTypes[Math.floor(Math.random() * mealTypes.length)];\n        } while (usedMealTypes.includes(mealType));\n        usedMealTypes.push(mealType);\n\n        // Generate between 1-3 food items for this meal\n        const foodItemCount = Math.floor(Math.random() * 3) + 1;\n        const foodItems = [];\n        let totalCalories = 0;\n        let totalProteins = 0;\n        let totalCarbs = 0;\n        let totalFats = 0;\n        for (let k = 0; k < foodItemCount; k++) {\n          const foodItem = mockFoodItems[Math.floor(Math.random() * mockFoodItems.length)];\n          const servingSize = Math.round((Math.random() * 1.5 + 0.5) * 100) / 100; // Between 0.5 and 2 servings\n\n          const itemCalories = foodItem.calories * servingSize;\n          const itemProteins = foodItem.proteins * servingSize;\n          const itemCarbs = foodItem.carbs * servingSize;\n          const itemFats = foodItem.fats * servingSize;\n          totalCalories += itemCalories;\n          totalProteins += itemProteins;\n          totalCarbs += itemCarbs;\n          totalFats += itemFats;\n          foodItems.push({\n            foodItem: foodItem.id,\n            foodItemDetails: foodItem,\n            servingSize,\n            calories: itemCalories,\n            proteins: itemProteins,\n            carbs: itemCarbs,\n            fats: itemFats\n          });\n        }\n        logs.push({\n          id: `log-${date.toISOString()}-${mealType}`,\n          userId: 'user123',\n          date: date.toISOString(),\n          mealType,\n          foodItems,\n          totalCalories,\n          totalProteins,\n          totalCarbs,\n          totalFats,\n          waterIntake: Math.floor(Math.random() * 500) + 200,\n          // 200-700ml per meal\n          notes: '',\n          createdAt: date.toISOString()\n        });\n      }\n    }\n  }\n  return logs;\n};\nconst mockFoodLogs = generateMockFoodLogs();\n\n// Generate nutrition summary from food logs\nconst generateNutritionSummary = (startDate, endDate) => {\n  const start = new Date(startDate);\n  start.setHours(0, 0, 0, 0);\n  const end = new Date(endDate);\n  end.setHours(23, 59, 59, 999);\n\n  // Filter logs within the date range\n  const filteredLogs = mockFoodLogs.filter(log => {\n    const logDate = new Date(log.date);\n    return logDate >= start && logDate <= end;\n  });\n\n  // Generate daily summaries\n  const dailySummaries = {};\n  filteredLogs.forEach(log => {\n    const dateKey = log.date.split('T')[0];\n    if (!dailySummaries[dateKey]) {\n      dailySummaries[dateKey] = {\n        date: dateKey,\n        totalCalories: 0,\n        totalProteins: 0,\n        totalCarbs: 0,\n        totalFats: 0,\n        waterIntake: 0,\n        meals: {}\n      };\n    }\n\n    // Add this log's data to the daily summary\n    dailySummaries[dateKey].totalCalories += log.totalCalories || 0;\n    dailySummaries[dateKey].totalProteins += log.totalProteins || 0;\n    dailySummaries[dateKey].totalCarbs += log.totalCarbs || 0;\n    dailySummaries[dateKey].totalFats += log.totalFats || 0;\n    dailySummaries[dateKey].waterIntake += log.waterIntake || 0;\n\n    // Add meal-specific data\n    dailySummaries[dateKey].meals[log.mealType] = {\n      calories: log.totalCalories || 0,\n      proteins: log.totalProteins || 0,\n      carbs: log.totalCarbs || 0,\n      fats: log.totalFats || 0\n    };\n  });\n\n  // Convert object to array\n  const summaryArray = Object.values(dailySummaries);\n\n  // Calculate overall averages\n  const overallSummary = summaryArray.reduce((acc, day) => {\n    acc.totalDays += 1;\n    acc.avgCalories += day.totalCalories;\n    acc.avgProteins += day.totalProteins;\n    acc.avgCarbs += day.totalCarbs;\n    acc.avgFats += day.totalFats;\n    acc.avgWaterIntake += day.waterIntake;\n    return acc;\n  }, {\n    totalDays: 0,\n    avgCalories: 0,\n    avgProteins: 0,\n    avgCarbs: 0,\n    avgFats: 0,\n    avgWaterIntake: 0\n  });\n  if (overallSummary.totalDays > 0) {\n    overallSummary.avgCalories /= overallSummary.totalDays;\n    overallSummary.avgProteins /= overallSummary.totalDays;\n    overallSummary.avgCarbs /= overallSummary.totalDays;\n    overallSummary.avgFats /= overallSummary.totalDays;\n    overallSummary.avgWaterIntake /= overallSummary.totalDays;\n  }\n  return {\n    dailySummaries: summaryArray,\n    overallSummary\n  };\n};\n\n// Mock patient profile data\nconst mockPatientProfile = {\n  _id: 'patient123',\n  name: 'Jane Smith',\n  email: 'patient@example.com',\n  phone: '555-123-4567',\n  dateOfBirth: '1988-04-15T00:00:00.000Z',\n  gender: 'female',\n  bloodGroup: 'O+',\n  height: 165,\n  // in cm\n  weight: 62,\n  // in kg\n  address: {\n    street: '123 Main St',\n    city: 'Metropolis',\n    state: 'NY',\n    zipCode: '10001',\n    country: 'USA'\n  },\n  emergencyContact: {\n    name: 'John Smith',\n    relationship: 'Spouse',\n    phone: '555-987-6543'\n  },\n  medicalHistory: {\n    allergies: ['Penicillin'],\n    chronicConditions: ['Migraine'],\n    pastSurgeries: [],\n    familyHistory: ['Hypertension', 'Diabetes']\n  },\n  insurance: {\n    provider: 'HealthGuard',\n    policyNumber: 'HG-123456789',\n    expiryDate: '2024-12-31T00:00:00.000Z'\n  },\n  createdAt: '2023-01-15T00:00:00.000Z',\n  updatedAt: '2023-05-20T00:00:00.000Z'\n};\nexport const handlers = [\n// Auth handlers\nhttp.post('/api/auth/login', async ({\n  request\n}) => {\n  const {\n    email,\n    password\n  } = await request.json();\n\n  // Mock credentials check\n  if (email === 'doctor@example.com' && password === 'password') {\n    return HttpResponse.json({\n      success: true,\n      data: {\n        token: 'mock-jwt-token',\n        user: {\n          _id: 'doctor123',\n          name: 'Dr. John Doe',\n          email: 'doctor@example.com',\n          role: 'doctor'\n        }\n      }\n    });\n  } else if (email === 'patient@example.com' && password === 'password') {\n    return HttpResponse.json({\n      success: true,\n      data: {\n        token: 'mock-jwt-token',\n        user: {\n          _id: 'patient123',\n          name: 'Jane Smith',\n          email: 'patient@example.com',\n          role: 'patient'\n        }\n      }\n    });\n  } else {\n    return new HttpResponse(JSON.stringify({\n      success: false,\n      message: 'Invalid credentials'\n    }), {\n      status: 401\n    });\n  }\n}), http.get('/api/auth/me', () => {\n  // Return mock user data\n  return HttpResponse.json({\n    success: true,\n    data: {\n      _id: 'user123',\n      name: 'Mock User',\n      email: 'user@example.com',\n      role: 'patient'\n    }\n  });\n}),\n// Appointment handlers\nhttp.get('/api/appointments', () => {\n  return HttpResponse.json({\n    success: true,\n    data: [{\n      _id: 'appt1',\n      patientId: 'patient123',\n      patientName: 'Jane Smith',\n      doctorId: 'doctor123',\n      doctorName: 'Dr. John Doe',\n      date: '2023-09-15',\n      timeSlot: '10:00 AM',\n      status: 'scheduled',\n      reason: 'Annual checkup',\n      createdAt: '2023-09-01T10:00:00Z'\n    }, {\n      _id: 'appt2',\n      patientId: 'patient123',\n      patientName: 'Jane Smith',\n      doctorId: 'doctor456',\n      doctorName: 'Dr. Sarah Wilson',\n      date: '2023-08-20',\n      timeSlot: '2:00 PM',\n      status: 'completed',\n      reason: 'Follow-up',\n      notes: 'Patient is recovering well.',\n      createdAt: '2023-08-01T14:00:00Z'\n    }]\n  });\n}),\n// Handler for user appointments\nhttp.get('/api/appointments/user', () => {\n  // Always return a successful response with mock data\n  try {\n    return HttpResponse.json({\n      success: true,\n      appointments: mockAppointments\n    }, {\n      status: 200\n    });\n  } catch (error) {\n    console.error('Error in appointments/user handler:', error);\n    // Even if there's an error, return valid JSON with empty appointments\n    return HttpResponse.json({\n      success: false,\n      message: 'Error retrieving appointments',\n      appointments: []\n    }, {\n      status: 200\n    });\n  }\n}), http.post('/api/appointments', async ({\n  request\n}) => {\n  const appointment = await request.json();\n  return HttpResponse.json({\n    success: true,\n    data: {\n      _id: 'new-appt-id',\n      ...appointment,\n      status: 'scheduled',\n      createdAt: new Date().toISOString()\n    }\n  });\n}), http.delete('/api/appointments/:id', ({\n  params\n}) => {\n  const {\n    id\n  } = params;\n  return HttpResponse.json({\n    success: true,\n    message: `Appointment ${id} cancelled successfully`\n  });\n}),\n// Doctors handlers\nhttp.get('/api/doctors', () => {\n  return HttpResponse.json({\n    success: true,\n    data: [{\n      _id: 'doctor123',\n      name: 'Dr. John Doe',\n      specialization: 'Cardiologist',\n      consultationFee: 150,\n      availableTimeSlots: ['9:00 AM', '10:00 AM', '11:00 AM', '2:00 PM', '3:00 PM']\n    }, {\n      _id: 'doctor456',\n      name: 'Dr. Sarah Wilson',\n      specialization: 'Dermatologist',\n      consultationFee: 120,\n      availableTimeSlots: ['9:30 AM', '10:30 AM', '11:30 AM', '2:30 PM', '3:30 PM']\n    }]\n  });\n}), http.get('/api/doctors/:id/timeslots', ({\n  params,\n  request\n}) => {\n  const {\n    id\n  } = params;\n  const url = new URL(request.url);\n  const date = url.searchParams.get('date');\n  return HttpResponse.json({\n    success: true,\n    data: ['9:00 AM', '10:00 AM', '11:00 AM', '2:00 PM', '3:00 PM']\n  });\n}),\n// Available slots endpoint\nhttp.get('/api/appointments/available-slots', ({\n  request\n}) => {\n  const url = new URL(request.url);\n  const date = url.searchParams.get('date');\n  const doctorId = url.searchParams.get('doctorId');\n  return HttpResponse.json({\n    success: true,\n    availableTimeSlots: mockTimeSlots.availableTimeSlots\n  });\n}),\n// Chatbot API endpoint handler\nhttp.post('/api/chatbot/message', async ({\n  request\n}) => {\n  const {\n    message,\n    conversationHistory\n  } = await request.json();\n\n  // Simple keyword-based response for the mock\n  const messageLower = message.toLowerCase();\n  let response;\n\n  // Randomly decide whether to show responses with patient history\n  const usePatientHistory = Math.random() > 0.5;\n  if (messageLower.includes('headache') || messageLower.includes('head pain') || messageLower.includes('migraine')) {\n    response = usePatientHistory ? medicalResponsesWithHistory.headache : medicalResponses.headache;\n  } else if (messageLower.includes('fever') || messageLower.includes('temperature') || messageLower.includes('hot')) {\n    response = usePatientHistory ? medicalResponsesWithHistory.fever : medicalResponses.fever;\n  } else if (messageLower.includes('chest pain') || messageLower.includes('heart pain')) {\n    response = usePatientHistory ? medicalResponsesWithHistory.chest_pain : medicalResponses.chest_pain;\n  } else if (messageLower.includes('cough') || messageLower.includes('cold') || messageLower.includes('flu')) {\n    response = usePatientHistory ? medicalResponsesWithHistory.cough : medicalResponses.cough;\n  } else {\n    response = usePatientHistory ? medicalResponsesWithHistory.default : medicalResponses.default;\n  }\n\n  // Add personalization based on conversation history if available\n  if (conversationHistory && conversationHistory.length > 0) {\n    // Find the user's name if mentioned in conversation\n    const nameMatch = conversationHistory.find(msg => msg.role === 'user' && msg.content.match(/my name is ([a-zA-Z]+)/i));\n    if (nameMatch) {\n      const name = nameMatch.content.match(/my name is ([a-zA-Z]+)/i)[1];\n      response.response = `Hi ${name}, ${response.response}`;\n    }\n  }\n  return HttpResponse.json({\n    success: true,\n    data: response\n  });\n}),\n// Medical records handlers\nhttp.get('/api/medical-records/patient/:id', ({\n  params\n}) => {\n  const {\n    id\n  } = params;\n\n  // Filter records for the specific patient\n  const patientRecords = mockMedicalRecords.filter(record => record.patientId === id);\n  return HttpResponse.json({\n    success: true,\n    data: patientRecords\n  });\n}), http.get('/api/medical-records/summary/:id', ({\n  params\n}) => {\n  const {\n    id\n  } = params;\n\n  // Filter records for the specific patient\n  const patientRecords = mockMedicalRecords.filter(record => record.patientId === id);\n\n  // Create a sample summary\n  const summary = {\n    patient: {\n      name: 'Jane Smith',\n      age: 35,\n      emergencyContact: {\n        name: 'John Smith',\n        phone: '555-123-4567',\n        relationship: 'Spouse'\n      }\n    },\n    activeConditions: patientRecords.filter(r => {\n      var _r$diagnosisDetails;\n      return r.recordType === 'diagnosis' && ((_r$diagnosisDetails = r.diagnosisDetails) === null || _r$diagnosisDetails === void 0 ? void 0 : _r$diagnosisDetails.status) === 'active';\n    }).map(c => {\n      var _c$diagnosisDetails, _c$diagnosisDetails2;\n      return {\n        condition: (_c$diagnosisDetails = c.diagnosisDetails) === null || _c$diagnosisDetails === void 0 ? void 0 : _c$diagnosisDetails.condition,\n        severity: (_c$diagnosisDetails2 = c.diagnosisDetails) === null || _c$diagnosisDetails2 === void 0 ? void 0 : _c$diagnosisDetails2.severity,\n        dateIdentified: c.recordDate\n      };\n    }),\n    allergies: patientRecords.filter(r => {\n      var _r$allergyDetails;\n      return r.recordType === 'allergy' && ((_r$allergyDetails = r.allergyDetails) === null || _r$allergyDetails === void 0 ? void 0 : _r$allergyDetails.status) === 'active';\n    }).map(a => {\n      var _a$allergyDetails, _a$allergyDetails2, _a$allergyDetails3;\n      return {\n        allergen: (_a$allergyDetails = a.allergyDetails) === null || _a$allergyDetails === void 0 ? void 0 : _a$allergyDetails.allergen,\n        reaction: (_a$allergyDetails2 = a.allergyDetails) === null || _a$allergyDetails2 === void 0 ? void 0 : _a$allergyDetails2.reaction,\n        severity: (_a$allergyDetails3 = a.allergyDetails) === null || _a$allergyDetails3 === void 0 ? void 0 : _a$allergyDetails3.severity\n      };\n    }),\n    currentMedications: patientRecords.filter(r => {\n      var _r$medicationDetails;\n      return r.recordType === 'prescription' && new Date((_r$medicationDetails = r.medicationDetails) === null || _r$medicationDetails === void 0 ? void 0 : _r$medicationDetails.endDate) > new Date();\n    }).map(m => {\n      var _m$medicationDetails, _m$medicationDetails2, _m$medicationDetails3;\n      return {\n        name: (_m$medicationDetails = m.medicationDetails) === null || _m$medicationDetails === void 0 ? void 0 : _m$medicationDetails.name,\n        dosage: (_m$medicationDetails2 = m.medicationDetails) === null || _m$medicationDetails2 === void 0 ? void 0 : _m$medicationDetails2.dosage,\n        frequency: (_m$medicationDetails3 = m.medicationDetails) === null || _m$medicationDetails3 === void 0 ? void 0 : _m$medicationDetails3.frequency\n      };\n    }),\n    recentAppointments: mockAppointments.map(a => {\n      var _a$doctorId, _a$doctorId2;\n      return {\n        date: a.date,\n        doctor: (_a$doctorId = a.doctorId) === null || _a$doctorId === void 0 ? void 0 : _a$doctorId.name,\n        specialization: (_a$doctorId2 = a.doctorId) === null || _a$doctorId2 === void 0 ? void 0 : _a$doctorId2.specialization,\n        reason: a.reason,\n        status: a.status,\n        notes: a.notes\n      };\n    })\n  };\n  return HttpResponse.json({\n    success: true,\n    data: summary\n  });\n}), http.get('/api/medical-records/:id', ({\n  params\n}) => {\n  const {\n    id\n  } = params;\n\n  // Find the specific record\n  const record = mockMedicalRecords.find(record => record._id === id);\n  if (!record) {\n    return new HttpResponse(JSON.stringify({\n      success: false,\n      message: 'Medical record not found'\n    }), {\n      status: 404\n    });\n  }\n  return HttpResponse.json({\n    success: true,\n    data: record\n  });\n}),\n// Add food item handlers\nhttp.get('/api/food/items', () => {\n  return HttpResponse.json({\n    success: true,\n    data: mockFoodItems\n  });\n}), http.get('/api/food/items/search', ({\n  request\n}) => {\n  const url = new URL(request.url);\n  const query = url.searchParams.get('query') || '';\n  const filteredItems = mockFoodItems.filter(item => item.name.toLowerCase().includes(query.toLowerCase()) || item.brand.toLowerCase().includes(query.toLowerCase()));\n  return HttpResponse.json({\n    success: true,\n    count: filteredItems.length,\n    data: filteredItems\n  });\n}),\n// Food log handlers\nhttp.get('/api/food/logs', () => {\n  return HttpResponse.json({\n    success: true,\n    count: mockFoodLogs.length,\n    data: mockFoodLogs\n  });\n}), http.post('/api/food/logs', async ({\n  request\n}) => {\n  try {\n    const foodLog = await request.json();\n\n    // Create a mock response\n    const newLog = {\n      id: `log-${Date.now()}`,\n      userId: 'user123',\n      ...foodLog,\n      createdAt: new Date().toISOString()\n    };\n    return HttpResponse.json({\n      success: true,\n      data: newLog\n    });\n  } catch (error) {\n    return new HttpResponse(JSON.stringify({\n      success: false,\n      message: 'Failed to create food log'\n    }), {\n      status: 400\n    });\n  }\n}),\n// Nutrition summary handler\nhttp.get('/api/food/nutrition/summary', ({\n  request\n}) => {\n  const url = new URL(request.url);\n  const startDate = url.searchParams.get('startDate') || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n  const endDate = url.searchParams.get('endDate') || new Date().toISOString().split('T')[0];\n  const summary = generateNutritionSummary(startDate, endDate);\n  return HttpResponse.json({\n    success: true,\n    data: summary\n  });\n}),\n// Add patient profile handler\nhttp.get('/api/patients/profile', () => {\n  return HttpResponse.json({\n    success: true,\n    data: mockPatientProfile\n  });\n}),\n// Add patient profile update handler\nhttp.put('/api/patients/profile', async ({\n  request\n}) => {\n  const updatedProfile = await request.json();\n  return HttpResponse.json({\n    success: true,\n    message: 'Profile updated successfully',\n    data: {\n      ...mockPatientProfile,\n      ...updatedProfile,\n      updatedAt: new Date().toISOString()\n    }\n  });\n})];","map":{"version":3,"names":["http","HttpResponse","mockAppointments","_id","patientId","name","email","phone","doctorId","specialization","date","Date","now","toISOString","timeSlot","status","reason","notes","mockTimeSlots","availableTimeSlots","medicalResponses","headache","response","urgencyLevel","specialistRecommendation","fever","chest_pain","cough","default","medicalResponsesWithHistory","hasPatientHistory","mockMedicalRecords","recordType","recordDate","description","diagnosisDetails","condition","symptoms","severity","createdBy","role","medicationDetails","dosage","frequency","startDate","endDate","allergyDetails","allergen","reaction","details","testName","results","mockFoodItems","id","brand","calories","proteins","carbs","fats","servingUnit","generateMockFoodLogs","logs","today","i","setDate","getDate","Math","random","mealCount","floor","mealTypes","usedMealTypes","j","mealType","length","includes","push","foodItemCount","foodItems","totalCalories","totalProteins","totalCarbs","totalFats","k","foodItem","servingSize","round","itemCalories","itemProteins","itemCarbs","itemFats","foodItemDetails","userId","waterIntake","createdAt","mockFoodLogs","generateNutritionSummary","start","setHours","end","filteredLogs","filter","log","logDate","dailySummaries","forEach","dateKey","split","meals","summaryArray","Object","values","overallSummary","reduce","acc","day","totalDays","avgCalories","avgProteins","avgCarbs","avgFats","avgWaterIntake","mockPatientProfile","dateOfBirth","gender","bloodGroup","height","weight","address","street","city","state","zipCode","country","emergencyContact","relationship","medicalHistory","allergies","chronicConditions","pastSurgeries","familyHistory","insurance","provider","policyNumber","expiryDate","updatedAt","handlers","post","request","password","json","success","data","token","user","JSON","stringify","message","get","patientName","doctorName","appointments","error","console","appointment","delete","params","consultationFee","url","URL","searchParams","conversationHistory","messageLower","toLowerCase","usePatientHistory","nameMatch","find","msg","content","match","patientRecords","record","summary","patient","age","activeConditions","r","_r$diagnosisDetails","map","c","_c$diagnosisDetails","_c$diagnosisDetails2","dateIdentified","_r$allergyDetails","a","_a$allergyDetails","_a$allergyDetails2","_a$allergyDetails3","currentMedications","_r$medicationDetails","m","_m$medicationDetails","_m$medicationDetails2","_m$medicationDetails3","recentAppointments","_a$doctorId","_a$doctorId2","doctor","query","filteredItems","item","count","foodLog","newLog","put","updatedProfile"],"sources":["C:/Users/mrafa/OneDrive/Desktop/code/major project/src/mocks/handlers.js"],"sourcesContent":["import { http, HttpResponse } from 'msw';\r\n\r\n// Mock data for appointments\r\nconst mockAppointments = [\r\n  {\r\n    _id: '1',\r\n    patientId: {\r\n      _id: 'patient123',\r\n      name: 'Alex Johnson',\r\n      email: 'alex@example.com',\r\n      phone: '123-456-7890'\r\n    },\r\n    doctorId: {\r\n      _id: 'doctor456',\r\n      name: 'Dr. Sarah Parker',\r\n      specialization: 'Cardiology',\r\n      email: 'dr.parker@example.com'\r\n    },\r\n    date: new Date(Date.now() + 86400000 * 2).toISOString(), // 2 days from now\r\n    timeSlot: '10:00 AM',\r\n    status: 'scheduled',\r\n    reason: 'Annual checkup',\r\n    notes: ''\r\n  },\r\n  {\r\n    _id: '2',\r\n    patientId: {\r\n      _id: 'patient123',\r\n      name: 'Alex Johnson',\r\n      email: 'alex@example.com',\r\n      phone: '123-456-7890'\r\n    },\r\n    doctorId: {\r\n      _id: 'doctor789',\r\n      name: 'Dr. Michael Chen',\r\n      specialization: 'Neurology',\r\n      email: 'dr.chen@example.com'\r\n    },\r\n    date: new Date(Date.now() - 86400000 * 3).toISOString(), // 3 days ago\r\n    timeSlot: '2:00 PM',\r\n    status: 'completed',\r\n    reason: 'Headaches and dizziness',\r\n    notes: 'Patient reported recurring headaches. Prescribed medication and recommended follow-up in 2 weeks.'\r\n  }\r\n];\r\n\r\n// Mock available time slots\r\nconst mockTimeSlots = {\r\n  availableTimeSlots: [\r\n    '09:00 AM', '10:00 AM', '11:00 AM',\r\n    '01:00 PM', '02:00 PM', '03:00 PM', '04:00 PM'\r\n  ]\r\n};\r\n\r\n// Simple chatbot responses for common medical inquiries\r\nconst medicalResponses = {\r\n  headache: {\r\n    response: \"It sounds like you're experiencing headaches. Headaches can be caused by various factors including stress, dehydration, lack of sleep, or underlying medical conditions. If your headache is severe, persistent, or accompanied by other symptoms like fever, vision changes, or neck stiffness, you should consult with a doctor. Would you like to book an appointment?\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: \"Neurologist\"\r\n  },\r\n  fever: {\r\n    response: \"I see you're concerned about a fever. A fever is often a sign that your body is fighting an infection. Make sure to stay hydrated and rest. If your temperature is above 103°F (39.4°C), lasts more than three days, or is accompanied by severe symptoms, you should seek medical attention. Would you like to discuss this with a doctor?\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: \"General Physician\"\r\n  },\r\n  chest_pain: {\r\n    response: \"Chest pain can be a symptom of several conditions and should be taken seriously. If you're experiencing severe chest pain, especially if it radiates to your arm, jaw, or back, or is accompanied by shortness of breath, sweating, or nausea, please seek emergency medical care immediately by calling 911 or going to your nearest emergency room.\",\r\n    urgencyLevel: \"urgent\",\r\n    specialistRecommendation: \"Cardiologist\"\r\n  },\r\n  cough: {\r\n    response: \"Coughing can be caused by various factors including allergies, cold, flu, or respiratory infections. If your cough is persistent (lasting more than 2 weeks), produces discolored mucus, or is accompanied by shortness of breath, you should consult with a healthcare professional. Would you like me to help you book an appointment?\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: \"Pulmonologist\"\r\n  },\r\n  default: {\r\n    response: \"Thank you for sharing your health concern. While I can provide general information, for a proper diagnosis and treatment plan, I'd recommend consulting with a healthcare professional. Would you like me to help you book an appointment with a doctor?\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: null\r\n  }\r\n};\r\n\r\n// Add to the medicalResponses object to include versions with patient history\r\nconst medicalResponsesWithHistory = {\r\n  headache: {\r\n    response: \"Based on your medical history, I see you've had previous appointments related to headaches. It's important to monitor any changes in your symptoms. Given your history, I would suggest keeping your scheduled follow-up appointment with your neurologist. In the meantime, continue with your prescribed medication and make sure you're staying hydrated and managing stress as discussed in your previous consultation.\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: \"Neurologist\",\r\n    hasPatientHistory: true\r\n  },\r\n  fever: {\r\n    response: \"I notice from your medical history that you have a history of recurring infections. With your current fever, it's especially important to monitor your temperature closely. Given your medical background, if your temperature exceeds 101°F or persists for more than 24 hours, you should contact your doctor as they may want to see you sooner considering your history. Continue taking your medications as prescribed.\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: \"General Physician\",\r\n    hasPatientHistory: true\r\n  },\r\n  chest_pain: {\r\n    response: \"Given your medical history that shows you have hypertension, your chest pain symptoms should be taken very seriously. Please seek emergency medical care immediately by calling 911 or going to your nearest emergency room. With your cardiovascular history, it's important to get evaluated promptly, even if the pain seems mild.\",\r\n    urgencyLevel: \"urgent\",\r\n    specialistRecommendation: \"Cardiologist\",\r\n    hasPatientHistory: true\r\n  },\r\n  cough: {\r\n    response: \"Looking at your medical history, I see you have asthma and have been prescribed an inhaler. With your current cough, it's important to monitor for any signs of an asthma flare-up. If you're experiencing increased wheezing or shortness of breath along with your cough, use your rescue inhaler as prescribed and contact your pulmonologist. They may want to adjust your management plan.\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: \"Pulmonologist\",\r\n    hasPatientHistory: true\r\n  },\r\n  default: {\r\n    response: \"I've reviewed your medical history and can provide some general guidance based on your health background. However, for your specific concerns, I'd recommend consulting with your healthcare provider who's familiar with your complete medical history. They can offer personalized advice based on your ongoing treatment plan.\",\r\n    urgencyLevel: \"normal\",\r\n    specialistRecommendation: null,\r\n    hasPatientHistory: true\r\n  }\r\n};\r\n\r\n// Mock data for medical records\r\nconst mockMedicalRecords = [\r\n  {\r\n    _id: 'record1',\r\n    patientId: 'patient123',\r\n    recordType: 'diagnosis',\r\n    recordDate: new Date(Date.now() - 86400000 * 30).toISOString(), // 30 days ago\r\n    description: 'Diagnosed with migraine headaches',\r\n    diagnosisDetails: {\r\n      condition: 'Migraine',\r\n      symptoms: ['Headache', 'Nausea', 'Light sensitivity'],\r\n      severity: 'moderate',\r\n      status: 'active'\r\n    },\r\n    createdBy: {\r\n      _id: 'doctor456',\r\n      name: 'Dr. Sarah Parker',\r\n      role: 'doctor',\r\n      specialization: 'Neurology'\r\n    }\r\n  },\r\n  {\r\n    _id: 'record2',\r\n    patientId: 'patient123',\r\n    recordType: 'prescription',\r\n    recordDate: new Date(Date.now() - 86400000 * 29).toISOString(), // 29 days ago\r\n    description: 'Prescribed medication for migraine prevention',\r\n    medicationDetails: {\r\n      name: 'Propranolol',\r\n      dosage: '40mg',\r\n      frequency: 'Twice daily',\r\n      startDate: new Date(Date.now() - 86400000 * 29).toISOString(),\r\n      endDate: new Date(Date.now() + 86400000 * 60).toISOString() // 60 days from now\r\n    },\r\n    createdBy: {\r\n      _id: 'doctor456',\r\n      name: 'Dr. Sarah Parker',\r\n      role: 'doctor',\r\n      specialization: 'Neurology'\r\n    }\r\n  },\r\n  {\r\n    _id: 'record3',\r\n    patientId: 'patient123',\r\n    recordType: 'allergy',\r\n    recordDate: new Date(Date.now() - 86400000 * 100).toISOString(), // 100 days ago\r\n    description: 'Identified penicillin allergy',\r\n    allergyDetails: {\r\n      allergen: 'Penicillin',\r\n      reaction: 'Hives and difficulty breathing',\r\n      severity: 'severe',\r\n      status: 'active'\r\n    },\r\n    createdBy: {\r\n      _id: 'doctor789',\r\n      name: 'Dr. Michael Chen',\r\n      role: 'doctor',\r\n      specialization: 'Immunology'\r\n    }\r\n  },\r\n  {\r\n    _id: 'record4',\r\n    patientId: 'patient123',\r\n    recordType: 'labResult',\r\n    recordDate: new Date(Date.now() - 86400000 * 15).toISOString(), // 15 days ago\r\n    description: 'Complete blood count results',\r\n    details: {\r\n      testName: 'Complete Blood Count',\r\n      results: 'Within normal ranges',\r\n      notes: 'No significant abnormalities found'\r\n    },\r\n    createdBy: {\r\n      _id: 'doctor456',\r\n      name: 'Dr. Sarah Parker',\r\n      role: 'doctor',\r\n      specialization: 'Neurology'\r\n    }\r\n  }\r\n];\r\n\r\n// Mock data for food items\r\nconst mockFoodItems = [\r\n  { id: '1', name: 'Apple', brand: 'Fresh Fruits', calories: 95, proteins: 0.5, carbs: 25, fats: 0.3, servingUnit: 'medium' },\r\n  { id: '2', name: 'Banana', brand: 'Fresh Fruits', calories: 105, proteins: 1.3, carbs: 27, fats: 0.4, servingUnit: 'medium' },\r\n  { id: '3', name: 'Chicken Breast', brand: 'Organic Meats', calories: 165, proteins: 31, carbs: 0, fats: 3.6, servingUnit: '100g' },\r\n  { id: '4', name: 'Brown Rice', brand: 'Healthy Grains', calories: 216, proteins: 5, carbs: 45, fats: 1.8, servingUnit: 'cup' },\r\n  { id: '5', name: 'Salmon', brand: 'Wild Caught', calories: 208, proteins: 20, carbs: 0, fats: 13, servingUnit: '100g' },\r\n  { id: '6', name: 'Spinach', brand: 'Garden Fresh', calories: 7, proteins: 0.9, carbs: 1.1, fats: 0.1, servingUnit: 'cup' },\r\n  { id: '7', name: 'Eggs', brand: 'Farm Fresh', calories: 68, proteins: 5.5, carbs: 0.6, fats: 4.8, servingUnit: 'large' },\r\n  { id: '8', name: 'Whole Wheat Bread', brand: 'Bakery', calories: 69, proteins: 3.6, carbs: 12, fats: 0.9, servingUnit: 'slice' },\r\n  { id: '9', name: 'Avocado', brand: 'Fresh Produce', calories: 234, proteins: 2.9, carbs: 12.5, fats: 21, servingUnit: 'medium' },\r\n  { id: '10', name: 'Greek Yogurt', brand: 'Dairy Farm', calories: 100, proteins: 17, carbs: 6, fats: 0.5, servingUnit: 'cup' }\r\n];\r\n\r\n// Generate mock food logs for the past 30 days\r\nconst generateMockFoodLogs = () => {\r\n  const logs = [];\r\n  const today = new Date();\r\n  \r\n  for (let i = 0; i < 30; i++) {\r\n    const date = new Date();\r\n    date.setDate(today.getDate() - i);\r\n    \r\n    // Decide if this date has food logs (80% chance)\r\n    if (Math.random() < 0.8) {\r\n      // Generate between 2-4 meal logs for this day\r\n      const mealCount = Math.floor(Math.random() * 3) + 2;\r\n      const mealTypes = ['breakfast', 'lunch', 'dinner', 'snack'];\r\n      \r\n      const usedMealTypes = [];\r\n      \r\n      for (let j = 0; j < mealCount; j++) {\r\n        // Select a meal type that hasn't been used yet\r\n        let mealType;\r\n        do {\r\n          mealType = mealTypes[Math.floor(Math.random() * mealTypes.length)];\r\n        } while (usedMealTypes.includes(mealType));\r\n        \r\n        usedMealTypes.push(mealType);\r\n        \r\n        // Generate between 1-3 food items for this meal\r\n        const foodItemCount = Math.floor(Math.random() * 3) + 1;\r\n        const foodItems = [];\r\n        \r\n        let totalCalories = 0;\r\n        let totalProteins = 0;\r\n        let totalCarbs = 0;\r\n        let totalFats = 0;\r\n        \r\n        for (let k = 0; k < foodItemCount; k++) {\r\n          const foodItem = mockFoodItems[Math.floor(Math.random() * mockFoodItems.length)];\r\n          const servingSize = Math.round((Math.random() * 1.5 + 0.5) * 100) / 100; // Between 0.5 and 2 servings\r\n          \r\n          const itemCalories = foodItem.calories * servingSize;\r\n          const itemProteins = foodItem.proteins * servingSize;\r\n          const itemCarbs = foodItem.carbs * servingSize;\r\n          const itemFats = foodItem.fats * servingSize;\r\n          \r\n          totalCalories += itemCalories;\r\n          totalProteins += itemProteins;\r\n          totalCarbs += itemCarbs;\r\n          totalFats += itemFats;\r\n          \r\n          foodItems.push({\r\n            foodItem: foodItem.id,\r\n            foodItemDetails: foodItem,\r\n            servingSize,\r\n            calories: itemCalories,\r\n            proteins: itemProteins,\r\n            carbs: itemCarbs,\r\n            fats: itemFats\r\n          });\r\n        }\r\n        \r\n        logs.push({\r\n          id: `log-${date.toISOString()}-${mealType}`,\r\n          userId: 'user123',\r\n          date: date.toISOString(),\r\n          mealType,\r\n          foodItems,\r\n          totalCalories,\r\n          totalProteins,\r\n          totalCarbs,\r\n          totalFats,\r\n          waterIntake: Math.floor(Math.random() * 500) + 200, // 200-700ml per meal\r\n          notes: '',\r\n          createdAt: date.toISOString()\r\n        });\r\n      }\r\n    }\r\n  }\r\n  \r\n  return logs;\r\n};\r\n\r\nconst mockFoodLogs = generateMockFoodLogs();\r\n\r\n// Generate nutrition summary from food logs\r\nconst generateNutritionSummary = (startDate, endDate) => {\r\n  const start = new Date(startDate);\r\n  start.setHours(0, 0, 0, 0);\r\n  \r\n  const end = new Date(endDate);\r\n  end.setHours(23, 59, 59, 999);\r\n  \r\n  // Filter logs within the date range\r\n  const filteredLogs = mockFoodLogs.filter(log => {\r\n    const logDate = new Date(log.date);\r\n    return logDate >= start && logDate <= end;\r\n  });\r\n  \r\n  // Generate daily summaries\r\n  const dailySummaries = {};\r\n  \r\n  filteredLogs.forEach(log => {\r\n    const dateKey = log.date.split('T')[0];\r\n    \r\n    if (!dailySummaries[dateKey]) {\r\n      dailySummaries[dateKey] = {\r\n        date: dateKey,\r\n        totalCalories: 0,\r\n        totalProteins: 0,\r\n        totalCarbs: 0,\r\n        totalFats: 0,\r\n        waterIntake: 0,\r\n        meals: {}\r\n      };\r\n    }\r\n    \r\n    // Add this log's data to the daily summary\r\n    dailySummaries[dateKey].totalCalories += log.totalCalories || 0;\r\n    dailySummaries[dateKey].totalProteins += log.totalProteins || 0;\r\n    dailySummaries[dateKey].totalCarbs += log.totalCarbs || 0;\r\n    dailySummaries[dateKey].totalFats += log.totalFats || 0;\r\n    dailySummaries[dateKey].waterIntake += log.waterIntake || 0;\r\n    \r\n    // Add meal-specific data\r\n    dailySummaries[dateKey].meals[log.mealType] = {\r\n      calories: log.totalCalories || 0,\r\n      proteins: log.totalProteins || 0,\r\n      carbs: log.totalCarbs || 0,\r\n      fats: log.totalFats || 0\r\n    };\r\n  });\r\n  \r\n  // Convert object to array\r\n  const summaryArray = Object.values(dailySummaries);\r\n  \r\n  // Calculate overall averages\r\n  const overallSummary = summaryArray.reduce((acc, day) => {\r\n    acc.totalDays += 1;\r\n    acc.avgCalories += day.totalCalories;\r\n    acc.avgProteins += day.totalProteins;\r\n    acc.avgCarbs += day.totalCarbs;\r\n    acc.avgFats += day.totalFats;\r\n    acc.avgWaterIntake += day.waterIntake;\r\n    return acc;\r\n  }, {\r\n    totalDays: 0,\r\n    avgCalories: 0,\r\n    avgProteins: 0,\r\n    avgCarbs: 0,\r\n    avgFats: 0,\r\n    avgWaterIntake: 0\r\n  });\r\n  \r\n  if (overallSummary.totalDays > 0) {\r\n    overallSummary.avgCalories /= overallSummary.totalDays;\r\n    overallSummary.avgProteins /= overallSummary.totalDays;\r\n    overallSummary.avgCarbs /= overallSummary.totalDays;\r\n    overallSummary.avgFats /= overallSummary.totalDays;\r\n    overallSummary.avgWaterIntake /= overallSummary.totalDays;\r\n  }\r\n  \r\n  return {\r\n    dailySummaries: summaryArray,\r\n    overallSummary\r\n  };\r\n};\r\n\r\n// Mock patient profile data\r\nconst mockPatientProfile = {\r\n  _id: 'patient123',\r\n  name: 'Jane Smith',\r\n  email: 'patient@example.com',\r\n  phone: '555-123-4567',\r\n  dateOfBirth: '1988-04-15T00:00:00.000Z',\r\n  gender: 'female',\r\n  bloodGroup: 'O+',\r\n  height: 165, // in cm\r\n  weight: 62, // in kg\r\n  address: {\r\n    street: '123 Main St',\r\n    city: 'Metropolis',\r\n    state: 'NY',\r\n    zipCode: '10001',\r\n    country: 'USA'\r\n  },\r\n  emergencyContact: {\r\n    name: 'John Smith',\r\n    relationship: 'Spouse',\r\n    phone: '555-987-6543'\r\n  },\r\n  medicalHistory: {\r\n    allergies: ['Penicillin'],\r\n    chronicConditions: ['Migraine'],\r\n    pastSurgeries: [],\r\n    familyHistory: ['Hypertension', 'Diabetes']\r\n  },\r\n  insurance: {\r\n    provider: 'HealthGuard',\r\n    policyNumber: 'HG-123456789',\r\n    expiryDate: '2024-12-31T00:00:00.000Z'\r\n  },\r\n  createdAt: '2023-01-15T00:00:00.000Z',\r\n  updatedAt: '2023-05-20T00:00:00.000Z'\r\n};\r\n\r\nexport const handlers = [\r\n  // Auth handlers\r\n  http.post('/api/auth/login', async ({ request }) => {\r\n    const { email, password } = await request.json()\r\n    \r\n    // Mock credentials check\r\n    if (email === 'doctor@example.com' && password === 'password') {\r\n      return HttpResponse.json({\r\n        success: true,\r\n        data: {\r\n          token: 'mock-jwt-token',\r\n          user: {\r\n            _id: 'doctor123',\r\n            name: 'Dr. John Doe',\r\n            email: 'doctor@example.com',\r\n            role: 'doctor'\r\n          }\r\n        }\r\n      })\r\n    } else if (email === 'patient@example.com' && password === 'password') {\r\n      return HttpResponse.json({\r\n        success: true,\r\n        data: {\r\n          token: 'mock-jwt-token',\r\n          user: {\r\n            _id: 'patient123',\r\n            name: 'Jane Smith',\r\n            email: 'patient@example.com',\r\n            role: 'patient'\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      return new HttpResponse(\r\n        JSON.stringify({\r\n          success: false,\r\n          message: 'Invalid credentials'\r\n        }),\r\n        { status: 401 }\r\n      )\r\n    }\r\n  }),\r\n\r\n  http.get('/api/auth/me', () => {\r\n    // Return mock user data\r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: {\r\n        _id: 'user123',\r\n        name: 'Mock User',\r\n        email: 'user@example.com',\r\n        role: 'patient'\r\n      }\r\n    })\r\n  }),\r\n\r\n  // Appointment handlers\r\n  http.get('/api/appointments', () => {\r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: [\r\n        {\r\n          _id: 'appt1',\r\n          patientId: 'patient123',\r\n          patientName: 'Jane Smith',\r\n          doctorId: 'doctor123',\r\n          doctorName: 'Dr. John Doe',\r\n          date: '2023-09-15',\r\n          timeSlot: '10:00 AM',\r\n          status: 'scheduled',\r\n          reason: 'Annual checkup',\r\n          createdAt: '2023-09-01T10:00:00Z'\r\n        },\r\n        {\r\n          _id: 'appt2',\r\n          patientId: 'patient123',\r\n          patientName: 'Jane Smith',\r\n          doctorId: 'doctor456',\r\n          doctorName: 'Dr. Sarah Wilson',\r\n          date: '2023-08-20',\r\n          timeSlot: '2:00 PM',\r\n          status: 'completed',\r\n          reason: 'Follow-up',\r\n          notes: 'Patient is recovering well.',\r\n          createdAt: '2023-08-01T14:00:00Z'\r\n        }\r\n      ]\r\n    })\r\n  }),\r\n\r\n  // Handler for user appointments\r\n  http.get('/api/appointments/user', () => {\r\n    // Always return a successful response with mock data\r\n    try {\r\n      return HttpResponse.json({\r\n        success: true,\r\n        appointments: mockAppointments \r\n      }, { status: 200 });\r\n    } catch (error) {\r\n      console.error('Error in appointments/user handler:', error);\r\n      // Even if there's an error, return valid JSON with empty appointments\r\n      return HttpResponse.json({\r\n        success: false,\r\n        message: 'Error retrieving appointments',\r\n        appointments: []\r\n      }, { status: 200 });\r\n    }\r\n  }),\r\n\r\n  http.post('/api/appointments', async ({ request }) => {\r\n    const appointment = await request.json()\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: {\r\n        _id: 'new-appt-id',\r\n        ...appointment,\r\n        status: 'scheduled',\r\n        createdAt: new Date().toISOString()\r\n      }\r\n    })\r\n  }),\r\n\r\n  http.delete('/api/appointments/:id', ({ params }) => {\r\n    const { id } = params\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      message: `Appointment ${id} cancelled successfully`\r\n    })\r\n  }),\r\n\r\n  // Doctors handlers\r\n  http.get('/api/doctors', () => {\r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: [\r\n        {\r\n          _id: 'doctor123',\r\n          name: 'Dr. John Doe',\r\n          specialization: 'Cardiologist',\r\n          consultationFee: 150,\r\n          availableTimeSlots: ['9:00 AM', '10:00 AM', '11:00 AM', '2:00 PM', '3:00 PM']\r\n        },\r\n        {\r\n          _id: 'doctor456',\r\n          name: 'Dr. Sarah Wilson',\r\n          specialization: 'Dermatologist',\r\n          consultationFee: 120,\r\n          availableTimeSlots: ['9:30 AM', '10:30 AM', '11:30 AM', '2:30 PM', '3:30 PM']\r\n        }\r\n      ]\r\n    })\r\n  }),\r\n\r\n  http.get('/api/doctors/:id/timeslots', ({ params, request }) => {\r\n    const { id } = params\r\n    const url = new URL(request.url)\r\n    const date = url.searchParams.get('date')\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: ['9:00 AM', '10:00 AM', '11:00 AM', '2:00 PM', '3:00 PM']\r\n    })\r\n  }),\r\n\r\n  // Available slots endpoint\r\n  http.get('/api/appointments/available-slots', ({ request }) => {\r\n    const url = new URL(request.url)\r\n    const date = url.searchParams.get('date')\r\n    const doctorId = url.searchParams.get('doctorId')\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      availableTimeSlots: mockTimeSlots.availableTimeSlots\r\n    })\r\n  }),\r\n\r\n  // Chatbot API endpoint handler\r\n  http.post('/api/chatbot/message', async ({ request }) => {\r\n    const { message, conversationHistory } = await request.json();\r\n    \r\n    // Simple keyword-based response for the mock\r\n    const messageLower = message.toLowerCase();\r\n    let response;\r\n    \r\n    // Randomly decide whether to show responses with patient history\r\n    const usePatientHistory = Math.random() > 0.5;\r\n    \r\n    if (messageLower.includes('headache') || messageLower.includes('head pain') || messageLower.includes('migraine')) {\r\n      response = usePatientHistory ? medicalResponsesWithHistory.headache : medicalResponses.headache;\r\n    } else if (messageLower.includes('fever') || messageLower.includes('temperature') || messageLower.includes('hot')) {\r\n      response = usePatientHistory ? medicalResponsesWithHistory.fever : medicalResponses.fever;\r\n    } else if (messageLower.includes('chest pain') || messageLower.includes('heart pain')) {\r\n      response = usePatientHistory ? medicalResponsesWithHistory.chest_pain : medicalResponses.chest_pain;\r\n    } else if (messageLower.includes('cough') || messageLower.includes('cold') || messageLower.includes('flu')) {\r\n      response = usePatientHistory ? medicalResponsesWithHistory.cough : medicalResponses.cough;\r\n    } else {\r\n      response = usePatientHistory ? medicalResponsesWithHistory.default : medicalResponses.default;\r\n    }\r\n    \r\n    // Add personalization based on conversation history if available\r\n    if (conversationHistory && conversationHistory.length > 0) {\r\n      // Find the user's name if mentioned in conversation\r\n      const nameMatch = conversationHistory.find(msg => \r\n        msg.role === 'user' && \r\n        msg.content.match(/my name is ([a-zA-Z]+)/i)\r\n      );\r\n      \r\n      if (nameMatch) {\r\n        const name = nameMatch.content.match(/my name is ([a-zA-Z]+)/i)[1];\r\n        response.response = `Hi ${name}, ${response.response}`;\r\n      }\r\n    }\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: response\r\n    });\r\n  }),\r\n\r\n  // Medical records handlers\r\n  http.get('/api/medical-records/patient/:id', ({ params }) => {\r\n    const { id } = params;\r\n    \r\n    // Filter records for the specific patient\r\n    const patientRecords = mockMedicalRecords.filter(record => record.patientId === id);\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: patientRecords\r\n    });\r\n  }),\r\n\r\n  http.get('/api/medical-records/summary/:id', ({ params }) => {\r\n    const { id } = params;\r\n    \r\n    // Filter records for the specific patient\r\n    const patientRecords = mockMedicalRecords.filter(record => record.patientId === id);\r\n    \r\n    // Create a sample summary\r\n    const summary = {\r\n      patient: {\r\n        name: 'Jane Smith',\r\n        age: 35,\r\n        emergencyContact: {\r\n          name: 'John Smith',\r\n          phone: '555-123-4567',\r\n          relationship: 'Spouse'\r\n        }\r\n      },\r\n      activeConditions: patientRecords\r\n        .filter(r => r.recordType === 'diagnosis' && r.diagnosisDetails?.status === 'active')\r\n        .map(c => ({\r\n          condition: c.diagnosisDetails?.condition,\r\n          severity: c.diagnosisDetails?.severity,\r\n          dateIdentified: c.recordDate\r\n        })),\r\n      allergies: patientRecords\r\n        .filter(r => r.recordType === 'allergy' && r.allergyDetails?.status === 'active')\r\n        .map(a => ({\r\n          allergen: a.allergyDetails?.allergen,\r\n          reaction: a.allergyDetails?.reaction,\r\n          severity: a.allergyDetails?.severity\r\n        })),\r\n      currentMedications: patientRecords\r\n        .filter(r => r.recordType === 'prescription' && new Date(r.medicationDetails?.endDate) > new Date())\r\n        .map(m => ({\r\n          name: m.medicationDetails?.name,\r\n          dosage: m.medicationDetails?.dosage,\r\n          frequency: m.medicationDetails?.frequency\r\n        })),\r\n      recentAppointments: mockAppointments.map(a => ({\r\n        date: a.date,\r\n        doctor: a.doctorId?.name,\r\n        specialization: a.doctorId?.specialization,\r\n        reason: a.reason,\r\n        status: a.status,\r\n        notes: a.notes\r\n      }))\r\n    };\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: summary\r\n    });\r\n  }),\r\n\r\n  http.get('/api/medical-records/:id', ({ params }) => {\r\n    const { id } = params;\r\n    \r\n    // Find the specific record\r\n    const record = mockMedicalRecords.find(record => record._id === id);\r\n    \r\n    if (!record) {\r\n      return new HttpResponse(\r\n        JSON.stringify({\r\n          success: false,\r\n          message: 'Medical record not found'\r\n        }),\r\n        { status: 404 }\r\n      );\r\n    }\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: record\r\n    });\r\n  }),\r\n\r\n  // Add food item handlers\r\n  http.get('/api/food/items', () => {\r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: mockFoodItems\r\n    });\r\n  }),\r\n  \r\n  http.get('/api/food/items/search', ({ request }) => {\r\n    const url = new URL(request.url);\r\n    const query = url.searchParams.get('query') || '';\r\n    \r\n    const filteredItems = mockFoodItems.filter(item => \r\n      item.name.toLowerCase().includes(query.toLowerCase()) || \r\n      item.brand.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      count: filteredItems.length,\r\n      data: filteredItems\r\n    });\r\n  }),\r\n  \r\n  // Food log handlers\r\n  http.get('/api/food/logs', () => {\r\n    return HttpResponse.json({\r\n      success: true,\r\n      count: mockFoodLogs.length,\r\n      data: mockFoodLogs\r\n    });\r\n  }),\r\n  \r\n  http.post('/api/food/logs', async ({ request }) => {\r\n    try {\r\n      const foodLog = await request.json();\r\n      \r\n      // Create a mock response\r\n      const newLog = {\r\n        id: `log-${Date.now()}`,\r\n        userId: 'user123',\r\n        ...foodLog,\r\n        createdAt: new Date().toISOString()\r\n      };\r\n      \r\n      return HttpResponse.json({\r\n        success: true,\r\n        data: newLog\r\n      });\r\n    } catch (error) {\r\n      return new HttpResponse(\r\n        JSON.stringify({\r\n          success: false,\r\n          message: 'Failed to create food log'\r\n        }),\r\n        { status: 400 }\r\n      );\r\n    }\r\n  }),\r\n  \r\n  // Nutrition summary handler\r\n  http.get('/api/food/nutrition/summary', ({ request }) => {\r\n    const url = new URL(request.url);\r\n    const startDate = url.searchParams.get('startDate') || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n    const endDate = url.searchParams.get('endDate') || new Date().toISOString().split('T')[0];\r\n    \r\n    const summary = generateNutritionSummary(startDate, endDate);\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: summary\r\n    });\r\n  }),\r\n\r\n  // Add patient profile handler\r\n  http.get('/api/patients/profile', () => {\r\n    return HttpResponse.json({\r\n      success: true,\r\n      data: mockPatientProfile\r\n    });\r\n  }),\r\n\r\n  // Add patient profile update handler\r\n  http.put('/api/patients/profile', async ({ request }) => {\r\n    const updatedProfile = await request.json();\r\n    \r\n    return HttpResponse.json({\r\n      success: true,\r\n      message: 'Profile updated successfully',\r\n      data: {\r\n        ...mockPatientProfile,\r\n        ...updatedProfile,\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n    });\r\n  })\r\n]; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}